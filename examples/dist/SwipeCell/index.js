const TRANSITIONAll="transition: all 500ms",TRANSITIONNONE="transition: none";Component({options:{addGlobalClass:!0,multipleSlots:!0},externalClasses:["custom-class","left-class","right-class"],properties:{showLeft:{type:Boolean,value:!1},showRight:{type:Boolean,value:!1},leftWidth:{type:Number,observer:"getLeftWidth"},rightWidth:{type:Number,observer:"getRightWidth"},disabled:Boolean,disabledLeft:Boolean,disabledRight:Boolean,asyncClose:Boolean,name:{type:String,value:""}},data:{transitionStyle:TRANSITIONAll,translateX:0},methods:{onClick(t){const{key:e="outside"}=t.currentTarget.dataset;this.triggerEvent("click",e);const{translateX:i,name:s}=this.data;0!=i&&(this.position=e,this.properties.asyncClose?this.triggerEvent("before-close",{position:e,instance:this,name:s}):this.close())},setTranslateX(t){this.setData({transitionStyle:TRANSITIONAll,translateX:t})},close(){this.setData({transitionStyle:TRANSITIONAll,translateX:0}),this.emitClose()},emitClose(t){this.triggerEvent("close",{position:t||this.position,name:this.properties.name})},open(t){const{disabled:e,disabledLeft:i,disabledRight:s}=this.properties;t&&!e&&("left"!==t||i?"right"!==t||s||(this.setTranslateX(-this.rightWidth),this.emitOpen(t)):(this.setTranslateX(this.leftWidth),this.emitOpen(t)))},emitOpen(t){const{name:e}=this.properties;this.triggerEvent("open",{position:t,name:e}),this.position=t},onTouchmove(t){const{showLeft:e,showRight:i,disabled:s,disabledLeft:h,disabledRight:n}=this.properties;if(s)return;let{translateX:o}=this.data;const a=t.touches[0].clientX;o+=a-this.startX,e&&o>0&&!h?(o>=this.leftWidth&&(o=this.leftWidth),this.setData({translateX:o})):i&&o<0&&!n&&(-o>=this.rightWidth&&(o=-this.rightWidth),this.setData({translateX:o})),this.startX=a},onTouchend(){const{showLeft:t,showRight:e,disabled:i,disabledLeft:s,disabledRight:h}=this.properties;if(i)return;let{translateX:n}=this.data;n>0&&t&&!s?(n>this.leftWidth/2?(n=this.leftWidth,this.emitOpen("left")):(n=0,this.emitClose("left")),this.setTranslateX(n)):n<0&&e&&!h&&(-n>this.rightWidth/2?(n=-this.rightWidth,this.emitOpen("right")):(n=0,this.emitClose("right")),this.setTranslateX(n))},onTouchstart(t){const{disabled:e}=this.properties;if(e)return;const i=t.touches[0].clientX;this.startX=i,this.setData({transitionStyle:TRANSITIONNONE})},getLeftAndRightWidth(){this.getLeftWidth(),this.getRightWidth()},getLeftWidth(){const{showLeft:t,leftWidth:e}=this.properties;if(t)if(e)this.leftWidth=e;else{const t=this.createSelectorQuery();t.select("#left").boundingClientRect(),t.exec(t=>{this.leftWidth=t[0].width})}else this.leftWidth=0},getRightWidth(){const{showRight:t,rightWidth:e}=this.properties;if(t)if(e)this.rightWidth=e;else{const t=this.createSelectorQuery();t.select("#right").boundingClientRect(),t.exec(t=>{this.rightWidth=t[0].width})}else this.rightWidth=0}},created:function(){this.startX=0,this.leftWidth=0,this.rightWidth=0,this.position="cell"},attached:function(){},ready:function(){this.getLeftAndRightWidth()},moved:function(){},detached:function(){}});